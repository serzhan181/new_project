(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{144:function(e,t,a){},156:function(e,t,a){},181:function(e,t,a){e.exports=a(290)},186:function(e,t,a){},187:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},232:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a(9),u=a.n(c),i=a(26),o=(a(186),a(28)),l=(a(187),a(52)),m=function(e){var t=e.userName,a=e.logout;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"navbar__nav"},r.a.createElement("li",{className:"navbar__item"},r.a.createElement("h3",{className:"navbar__item-userName"},t),r.a.createElement(l.c,{to:"/profile"},r.a.createElement("i",{className:"far fa-user-circle fa-2x"}))),r.a.createElement("li",{className:"navbar__item"},r.a.createElement(l.c,{to:"/users"},r.a.createElement("i",{className:"fas fa-search-plus fa-2x"}))),r.a.createElement("li",{className:"navbar__item"},r.a.createElement("div",{className:"navbar__status"},r.a.createElement("i",{className:"fas fa-plug fa-2x fa-color"})),r.a.createElement(l.b,{onClick:function(){return a()},to:"/login"},"Logout"))))},f=a(46),p="PROFILE/ADD_POST",d=a(158),b=a.n(d).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ae0b1d97-f737-4337-8a4d-8719ab70afbb"}}),E=function(e){return b.post("auth/login",{email:e.email,password:e.password,rememberMe:!!e.rememberBe})},g=function(){return b.delete("auth/login")},v=function(){return b.get("/auth/me")},h=function(e){return b.get("profile/".concat(e))},_=function(e){return b.put("profile/status",{status:e})},O=function(){return b.get("/users")},N=function(e){return b.post("follow/".concat(e))},j=function(e){return{type:"AUTH/SET_AUTH",payload:e}},y=function(e){return{type:"SET_LOADING",boolean:e}},S=function(e){return{type:"USERS/TO_FOLLOW",id:e}},x=function(e,t){return{type:"USERS/SUBSCRIBE",isFetching:e,id:t}},w=Object(f.b)((function(e){return{userName:e.auth.login}}),{logout:function(){return Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:case"end":return e.stop()}}),e)})))}})((function(e){var t=e.userName,a=e.logout;return r.a.createElement(m,{userName:t,logout:a})})),k=(a(208),function(){return r.a.createElement(I,null,r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),I=(a(209),function(e){var t=e.children;return r.a.createElement("div",{className:"center"},t)}),P=(a(210),function(e){var t=e.children;return r.a.createElement("div",{className:"error"},r.a.createElement("strong",null,t))}),U=a(180),C=function(e,t,a){U.a[e]({message:t,description:a})},L=a(96),T=a(97),A=a(107),R=a(106),F=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(T.a)(a,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return Object(s.createPortal)(this.props.children,this.el)}}]),a}(n.Component),z=a(293),D=a(292),M=a(294),B=a(125),G=(a(232),a(70)),H=function(e){var t=e.accessLogin;return r.a.createElement(F,{className:"login__overlay"},r.a.createElement(I,null,r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__header"},r.a.createElement("h2",null,"Sign in"),r.a.createElement("p",{className:"login__header-subtitle"},"Please, sign in account")),r.a.createElement("div",{className:"login__body"},r.a.createElement(V,{accessLogin:t})))))},V=function(e){var t=e.accessLogin,a=function(){var e=Object(i.a)(u.a.mark((function e(a,n){var r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.next=3,t(a);case 3:(c=e.sent)&&s("password",c),r(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(G.d,{initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email||(t.email="It is required!"),e.password||(t.password="It is required!"),t},onSubmit:a},(function(e){var t=e.isValid,a=e.isSubmitting,n=e.handleSubmit;return r.a.createElement(G.c,null,r.a.createElement(G.b,{name:"email"},(function(e){var t=e.field;return r.a.createElement(z.a,Object.assign({placeholder:"email",size:"middle",className:"login__body-email"},t))})),r.a.createElement(G.b,{name:"password"},(function(e){var t=e.field;return r.a.createElement(z.a.Password,Object.assign({autoComplete:"off",placeholder:"password",className:"login__body-password"},t))})),r.a.createElement(G.a,{name:"password",component:P}),r.a.createElement(G.b,{name:"rememberMe"},(function(e){var t=e.filed;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a.Text,{type:"secondary"},"Remember me "),r.a.createElement(M.a,t))})),r.a.createElement("div",{className:"login__footer"},r.a.createElement(B.a,{onClick:n,type:"primary",loading:a,disabled:!t&&a},"Sign in"),r.a.createElement(B.a,{type:"text",className:"login__footer-signUp"}," ","Sign up")))}))},W=Object(f.b)((function(e){var t=e.auth;return{isLoading:t.isLoading,id:t.id}}),{login:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(y(!0)),t.next=3,E(e);case 3:if(n=t.sent,a(y(!1)),0!==n.data.resultCode){t.next=9;break}a(j(n.data.data)),t.next=10;break;case 9:return t.abrupt("return",n.data.messages.join(""));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.login,a=(e.checkIfAuthorized,e.id),n=function(){var e=Object(i.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(o.a,{to:"/profile"}),r.a.createElement(H,{accessLogin:n}),r.a.createElement(B.a,{className:"login__callNotification",type:"default",onClick:function(){return C("info","Welcome!","\n  LOGIN: checkportfolio111@gmail.com\n\n  PASSWORD: 123456\n  ")}},"Call Notification"))})),q=a(88),J=a(76),Y=a.n(J),K=(a(144),a(170)),Q=a.n(K),X=function(e){var t=e.profileImg,a=e.name,n=e.text;return r.a.createElement("div",{className:"profile__post"},r.a.createElement("div",{className:"profile__post-header"},r.a.createElement("img",{className:"profile__post-image",src:t,alt:"post"}),r.a.createElement("h4",{className:"profile__post-name"},a)),r.a.createElement("p",{className:"profile__post-body"},n))},Z=function(e){var t=e.addPost,a=e.profileImg,n=e.fullName,s=e.posts,c=e.postText,u=e.onPostText,i=e.editMode,o=e.setEditMode,l=e.statusValue,m=e.setStatusValue,f=e.onDisableSaveStatus,p=e.enableChange;return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile__inner"},r.a.createElement("div",{className:"profile__info"},r.a.createElement("div",{className:"profile__info-header"},r.a.createElement("h3",null,n),r.a.createElement("img",{className:"profile__userImg",src:a,alt:"user"})),r.a.createElement("div",{className:"profile__info-body"},p?i?r.a.createElement(z.a,{value:l,onChange:function(e){return m(e.target.value)},onBlur:function(e){return f(e.target.value)},autoFocus:!0}):r.a.createElement(r.a.Fragment,null,l?r.a.createElement("span",{className:"profile__info-status"},l):r.a.createElement("span",{className:"empty_status"},"Empty status"),r.a.createElement(B.a,{size:"small",onClick:o},"Change status")):r.a.createElement(r.a.Fragment,null,l?r.a.createElement("span",{className:"profile__info-status"},l):r.a.createElement("span",{className:"empty_status"},"Empty status")))),r.a.createElement("div",{className:"profile__posts"},r.a.createElement("div",{className:"profile__posts-addPost"},r.a.createElement(Q.a,{className:"profile__posts-input",placeholder:"Leave a message",maxLength:"300",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement(B.a,{disabled:!c.length,onClick:function(){return t(121,"Anonymous")}},">>")),s.map((function(e){return r.a.createElement(X,{key:e.id,profileImg:Y.a,name:e.name,text:e.text})})))))},$=a(64),ee=Object($.d)(Object(f.b)((function(e){var t=e.profilePage,a=e.auth;return{posts:t.posts,fullName:t.fullName,profileImg:t.profileImg,status:t.status,isLoading:a.isLoading}}),{addPost:function(e,t,a){return{type:p,id:e,name:t,text:a}},getProfile:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(y(!0)),t.next=3,h(e);case 3:n=t.sent,a(y(!1)),200===n.status&&a({type:"PROFILE/SET_PROFILE_DATA",profileImg:(r=n.data).photos.small,status:r.aboutMe,fullName:r.fullName});case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},setStatus:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(y(!0)),t.next=3,_(e);case 3:if(n=t.sent,a(y(!1)),0!==n.data.resultCode){t.next=9;break}return t.abrupt("return",0);case 9:return t.abrupt("return",1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),o.h)((function(e){var t=e.addPost,a=e.fullName,s=e.profileImg,c=e.posts,o=e.status,l=e.match,m=e.getProfile,f=e.userId,p=e.isLoading,d=e.setStatus,b=Object(n.useState)(!1),E=Object(q.a)(b,2),g=E[0],v=E[1];Object(n.useEffect)((function(){var e=l.params.profileId||f;e===f&&v(!0),m(e)}),[l.params.profileId,m,f]);var h=Object(n.useState)(""),_=Object(q.a)(h,2),O=_[0],N=_[1],j=Object(n.useState)(!1),y=Object(q.a)(j,2),S=y[0],x=y[1],w=Object(n.useState)(o),I=Object(q.a)(w,2),P=I[0],U=I[1],L=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(a=e.sent,x(!S),0!==a){e.next=6;break}return e.abrupt("return",C("success","Status changed!"));case 6:return e.abrupt("return",C("error","Something went wrong..."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return U((function(){return o}))}),[o]),r.a.createElement(r.a.Fragment,null,p?r.a.createElement(k,null):r.a.createElement(Z,{fullName:a,profileImg:s||Y.a,addPost:function(e,a){t(e,a,O),N("")},posts:c,postText:O,onPostText:function(e){return N(e)},enableChange:g,editMode:S,setEditMode:function(){return x(!S)},statusValue:P,setStatusValue:function(e){return U(e)},onDisableSaveStatus:L}))})),te=a(291),ae=(a(156),function(e){var t=e.fullName,a=e.img,n=e.status,s=e.followed,c=e.subscribe,u=e.id,i=e.isSubscribing,o=e.history;return r.a.createElement("div",{className:"user"},r.a.createElement("img",{className:"user__image",src:a,alt:"user",onClick:function(){o.push("/profile/".concat(u))}}),r.a.createElement("br",null),r.a.createElement("div",{className:"user__body"},r.a.createElement("h4",{className:"user__body-name"},t),r.a.createElement("span",{className:"user__body-status"},n)),r.a.createElement("div",{className:"user__footer"},r.a.createElement(B.a,{type:"primary",size:"small",onClick:function(){return c(u.toString())},loading:i,disabled:i},s?"unsubscribe":"subscribe")))}),ne=r.a.memo((function(e){var t=Object(o.g)();return r.a.createElement("div",{className:"users"},r.a.createElement(te.a,{current:e.page,pageSize:e.pageSize,total:e.totalUsers,size:"small",showTitle:!1,simple:!0,responsive:!0,className:"users__pagination"}),e.users&&e.users.map((function(a){return r.a.createElement(ae,{key:a.id,followed:a.followed,img:a.photos.small||Y.a,fullName:a.name,status:a.status,subscribe:e.subscribe,id:a.id,isSubscribing:e.subscribingProcess.some((function(e){return e===a.id})),history:t})})))})),re=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).toSubscribe=function(){var t=Object(i.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.subscribe(a);case 2:if(0!==(n=t.sent)){t.next=5;break}return t.abrupt("return",C("success","You've subscribed"));case 5:return t.abrupt("return",C("error",n));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUsers();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}},{key:"render",value:function(){return r.a.createElement(ne,{users:this.props.users,pageSize:this.props.pageSize,page:this.props.page,totalUsers:this.props.totalUsers,subscribe:this.toSubscribe,subscribingProcess:this.props.subscribingProcess})}}]),a}(n.Component),se=Object(f.b)((function(e){var t=e.usersPage;return{users:t.users[0],totalUsers:t.totalUsers,pageSize:t.pageSize,page:t.page,subscribingProcess:t.subscribingProcess}}),{getUsers:function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0)),e.next=3,O();case 3:a=e.sent,t(y(!1)),200===a.status&&t((n=a.data.items,r=a.data.totalCount,{type:"USERS/GET_USERS",payload:n,totalUsers:r}));case 6:case"end":return e.stop()}var n,r}),e)})));return function(t){return e.apply(this,arguments)}}()},subscribe:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(x(!0,e)),t.next=3,N(e);case 3:if(n=t.sent,a(x(!1,e)),0!==n.data.resultCode){t.next=8;break}return a(S(e)),t.abrupt("return",0);case 8:return t.abrupt("return",n.data.messages.join(""));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(re);var ce=Object(f.b)(null,{checkIfAuthorized:function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0)),e.next=3,v();case 3:if(a=e.sent,t(y(!1)),1!==a.data.resultCode){e.next=9;break}return e.abrupt("return",1);case 9:return t(j(a.data.data)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.checkIfAuthorized;return Object(n.useEffect)((function(){Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(1!==(a=e.sent)){e.next=5;break}return e.abrupt("return",r.a.createElement(o.a,{to:"/login"}));case 5:if(0!==a){e.next=7;break}return e.abrupt("return",r.a.createElement(o.a,{to:"/profile"}));case 7:case"end":return e.stop()}}),e)})))()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.d,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("div",{className:"testN"},r.a.createElement(o.b,{path:["/profile","/users"],render:function(){return r.a.createElement(w,null)}})),r.a.createElement("div",{className:"testC"},r.a.createElement(o.b,{path:"/profile/:profileId?",render:function(){return r.a.createElement(ee,null)}}),r.a.createElement(o.b,{path:"/users",render:function(){return r.a.createElement(se,null)}})))),r.a.createElement(o.b,{exact:!0,path:"/",render:function(){return r.a.createElement(o.a,{to:"/login"})}}),r.a.createElement(o.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(W,null)}}))})),ue=a(29),ie={id:null,email:null,login:null,isLoading:!1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH":return Object(ue.a)(Object(ue.a)({},e),t.payload);case"SET_LOADING":return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:t.boolean});default:return e}},le=a(80),me={fullName:"",profileImg:null,status:"",posts:[{id:1,name:"Alex Fox",text:"Hello world!"}]},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a={id:t.id,name:t.name,text:t.text};return Object(ue.a)(Object(ue.a)({},e),{},{posts:Object(le.a)(e.posts.concat(a))});case"PROFILE/SET_PROFILE_DATA":var n=t.profileImg,r=t.status,s=t.fullName;return Object(ue.a)(Object(ue.a)({},e),{},{profileImg:n,status:r,fullName:s});default:return e}},pe={page:1,pageSize:10,totalUsers:null,users:[],subscribingProcess:[]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/CHANGE_PAGE":return Object(ue.a)(Object(ue.a)({},e),{},{page:t.payload});case"USERS/GET_USERS":var a=t.payload,n=t.totalUsers;return Object(ue.a)(Object(ue.a)({},e),{},{users:[].concat(Object(le.a)(e.users),[a]),totalUsers:n});case"USERS/TO_FOLLOW":return Object(ue.a)(Object(ue.a)({},e),{},{users:[].concat(Object(le.a)(e.users),[e.users.map((function(e){return e.id===t.id?Object(ue.a)(Object(ue.a)({},e),{},{followed:!0}):e}))])});case"USERS/SUBSCRIBE":return Object(ue.a)(Object(ue.a)({},e),{},{subscribingProcess:t.isFetching?[].concat(Object(le.a)(e.subscribingProcess),[t.userId]):e.subscribingProcess.filter((function(e){return e!==t.userId}))});default:return e}},be=a(178),Ee=Object($.c)({auth:oe,profilePage:fe,usersPage:de}),ge=Object($.e)(Ee,Object($.a)(be.a));window.store=ge,Object(s.render)(r.a.createElement(l.a,null,r.a.createElement(f.a,{store:ge},r.a.createElement(ce,null))),document.getElementById("root"))},76:function(e,t,a){e.exports=a.p+"static/media/noUserImg.f7162f08.png"}},[[181,1,2]]]);
//# sourceMappingURL=main.a88b6669.chunk.js.map